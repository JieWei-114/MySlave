<div class="files-panel">
  <div class="files-header">
    <div class="files-header-wrapper">
      <div>
        <h3>Files</h3>
        <p>Attach files to this session</p>
      </div>
      <div class="files-actions">
        <input
          #fileInput
          class="file-input"
          type="file"
          accept=".txt,.md,.json,.csv,.log,.html,.css,.ts,.js,.py,.yaml,.yml,.pdf,.doc,.docx,text/*,application/pdf,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document"
          (change)="onFileSelected($event)"
          [disabled]="fileStore.uploading()"
        />

        <app-button
          *ngIf="true"
          class="btn-upload"
          title="Upload file"
          (click)="fileInput.click()"
          [disabled]="fileStore.uploading()"
        >
          +
        </app-button>

        <span class="status" *ngIf="fileStore.uploading()">Uploading...</span>
        <span class="error" *ngIf="fileError()">{{ fileError() }}</span>
      </div>
    </div>
  </div>

  <div class="files-list" *ngIf="fileStore.files().length; else empty">
    <div class="file-item" *ngFor="let f of fileStore.files()">
      <div class="file-info">
        <div class="file-name">{{ f.filename }}</div>
        <div class="file-meta">{{ f.file_type }} â€¢ {{ f.size_chars }} chars</div>
      </div>
      <button class="btn-delete" (click)="deleteFile(f.id)">ðŸ—‘</button>
    </div>
  </div>

  <ng-template #empty>
    <div class="empty-state">
      <h3>No files yet</h3>
      <p>Attach a file to use it in context</p>
    </div>
  </ng-template>
</div>